<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Painel de Acompanhamento - Inventário FAO UFMG</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }
    </style>
</head>
<body class="bg-gray-100">

    <!-- Cabeçalho -->
    <header class="bg-white shadow-md">
        <div class="container mx-auto px-6 py-4">
            <h1 class="text-xl md:text-2xl font-bold text-gray-800">Painel de Acompanhamento do Inventário</h1>
            <p class="text-gray-600">Comissão de Inventário Patrimonial 2025 - FAO UFMG</p>
        </div>
    </header>

    <main class="container mx-auto p-6">
        
        <!-- Seção de Contagem Regressiva -->
        <section id="countdown" class="mb-8">
            <div class="bg-white p-6 rounded-lg shadow-md text-center">
                <div id="countdown-container" class="text-2xl font-bold text-gray-700 flex flex-col items-center justify-center">
                    <!-- Conteúdo do contador será inserido aqui pelo JavaScript -->
                </div>
            </div>
        </section>

        <!-- Painel Principal -->
        <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">

            <!-- Coluna de Gráficos e Filtros -->
            <div class="lg:col-span-1 space-y-8">
                <!-- Card de Progresso Geral -->
                <div class="bg-white p-6 rounded-lg shadow-md">
                    <h2 class="text-xl font-bold text-gray-800 mb-4">Progresso Geral</h2>
                    <div class="relative mx-auto" style="max-width: 300px;">
                        <canvas id="progressChart"></canvas>
                        <div id="chart-percentage" class="absolute inset-0 flex items-center justify-center text-4xl font-bold text-gray-800"></div>
                    </div>
                    <div class="mt-4 flex justify-around text-center">
                        <div>
                            <p class="text-sm text-gray-500">Entregues</p>
                            <p id="stats-entregue" class="text-2xl font-bold text-green-600"></p>
                        </div>
                        <div>
                            <p class="text-sm text-gray-500">Pendentes</p>
                            <p id="stats-pendente" class="text-2xl font-bold text-yellow-600"></p>
                        </div>
                         <div>
                            <p class="text-sm text-gray-500">Total</p>
                            <p id="stats-total" class="text-2xl font-bold text-gray-800"></p>
                        </div>
                    </div>
                </div>

                <!-- Card de Filtro -->
                <div class="bg-white p-6 rounded-lg shadow-md">
                    <h2 class="text-xl font-bold text-gray-800 mb-4">Filtrar Visualização</h2>
                    <div class="space-y-4">
                        <div>
                            <label for="category-filter" class="block text-sm font-medium text-gray-700 mb-1">Categoria Principal</label>
                            <select id="category-filter" class="w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500">
                                <option value="todos">Todos os locais</option>
                                <option value="departamentos">Departamentos</option>
                                <option value="academico">Acadêmico e Extensão</option>
                                <option value="coord_enfermagem_caseu">Coordenação de Enfermagem e CASEU</option>
                                <option value="infraestrutura_oficina">Infraestrutura e Oficina</option>
                                <option value="biblioteca">Biblioteca</option>
                                <option value="administrativo">Administrativo</option>
                            </select>
                        </div>
                        <div id="subcategory-filter-container" class="hidden">
                             <label for="subcategory-filter" class="block text-sm font-medium text-gray-700 mb-1">Subcategoria</label>
                            <select id="subcategory-filter" class="w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500">
                                <!-- Options will be populated dynamically -->
                            </select>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Coluna da Lista de Status -->
            <div class="lg:col-span-2 bg-white p-6 rounded-lg shadow-md">
                <h2 id="list-title" class="text-xl font-bold text-gray-800 mb-4">Status de Todos os Locais</h2>
                <div class="overflow-y-auto max-h-[600px] pr-2">
                    <div id="status-list" class="space-y-3">
                        <!-- A lista de status será inserida aqui -->
                    </div>
                </div>
            </div>
        </div>
    </main>

    <script>
        lucide.createIcons();

        // --- DADOS ---
        const inventoryData = [
            // Departamentos
            { id: 66, responsible: 'PROFA. SORAIA MACARI', location: 'SALA 3108 – ORTODONTIA', mainCategory: 'departamentos', subCategory: 'Saúde Bucal da Criança e do Adolescente', status: 'Entregue' },
            { id: 67, responsible: 'PROFA. CRISTIANE BACCIN BENDO NEVES', location: 'SALA 3306 – CHEFIA SCA', mainCategory: 'departamentos', subCategory: 'Saúde Bucal da Criança e do Adolescente', status: 'Pendente' },
            { id: 68, responsible: 'RICARDO DIAS LUZ', location: 'SALA 3307 – SECRETARIA SCA', mainCategory: 'departamentos', subCategory: 'Saúde Bucal da Criança e do Adolescente', status: 'Entregue' },
            { id: 69, responsible: 'PROFA. RAQUEL GONCALVES VIEIRA DE ANDRADE', location: 'SALA 3317 – GABINETE DE PROFESSOR 1', mainCategory: 'departamentos', subCategory: 'Saúde Bucal da Criança e do Adolescente', status: 'Pendente' },
            { id: 70, responsible: 'PROFA. SHEYLA MARCIA AUAD', location: 'SALA 3319 – GABINETE DE PROFESSOR 2', mainCategory: 'departamentos', subCategory: 'Saúde Bucal da Criança e do Adolescente', status: 'Entregue' },
            { id: 71, responsible: 'PROFA. ISABELA ALMEIDA PORDEUS', location: 'SALA 3320 – GABINETE DE PROFESSOR 3', mainCategory: 'departamentos', subCategory: 'Saúde Bucal da Criança e do Adolescente', status: 'Pendente' },
            { id: 72, responsible: 'PROFA. IZABELLA BARBOSA FERNANDES', location: 'SALA 3322 – GABINETE DE PROFESSOR 4', mainCategory: 'departamentos', subCategory: 'Saúde Bucal da Criança e do Adolescente', status: 'Entregue' },
            { id: 154, responsible: 'Profa. Leniana Santos Neves', location: 'Clínica 08 - Almoxarifado 02 - Ortodontia', mainCategory: 'departamentos', subCategory: 'Saúde Bucal da Criança e do Adolescente', status: 'Pendente' },
            { id: 155, responsible: 'Profa. Leniana Santos Neves', location: 'Sala 0000 - Laboratório de Apoio a Ortodontia', mainCategory: 'departamentos', subCategory: 'Saúde Bucal da Criança e do Adolescente', status: 'Entregue' },
            { id: 156, responsible: 'Profa. Joana Ramos Jorge', location: 'Sala 2608 - Clínica de Odontopediatria e Ortodontia', mainCategory: 'departamentos', subCategory: 'Saúde Bucal da Criança e do Adolescente', status: 'Pendente' },
            { id: 157, responsible: 'Prof. Rodrigo Hermont Cançado', location: 'Sala 3107 - Laboratório de Ensino 04 - Ortodontia', mainCategory: 'departamentos', subCategory: 'Saúde Bucal da Criança e do Adolescente', status: 'Entregue' },
            { id: 59, responsible: 'PROFA. CAMILLA APARECIDA SILVA DE OLIVEIRA LIMA', location: 'SALA 3303 – GABINETE DE PROFESSOR', mainCategory: 'departamentos', subCategory: 'Odontologia Social Preventiva', status: 'Pendente' },
            { id: 60, responsible: 'PROFA. ANA CRISTINA BORGES DE OLIVEIRA', location: 'SALA 3314 – GABINETE DE PROFESSORES 04', mainCategory: 'departamentos', subCategory: 'Odontologia Social Preventiva', status: 'Entregue' },
            { id: 61, responsible: 'PROFA. SUELLEN DA ROCHA MENDES', location: 'SALA 3325 – GABINETE DE PROFESSOR 01', mainCategory: 'departamentos', subCategory: 'Odontologia Social Preventiva', status: 'Pendente' },
            { id: 62, responsible: 'PROFA. VIVIANE ELISANGELA GOMES', location: 'SALA 3326 – GABINETE DE PROFESSORES 02', mainCategory: 'departamentos', subCategory: 'Odontologia Social Preventiva', status: 'Entregue' },
            { id: 63, responsible: 'PROFA. JANICE SIMPSON DE PAULA', location: 'SALA 3327 – GABINETE DE PROFESsores 03', mainCategory: 'departamentos', subCategory: 'Odontologia Social Preventiva', status: 'Pendente' },
            { id: 64, responsible: 'PROFA. ANDREIA MARIA ARAÚJO DRUMMOND', location: 'LABORATÓRIO DE PESQUISA DOSP', mainCategory: 'departamentos', subCategory: 'Odontologia Social Preventiva', status: 'Entregue' },
            { id: 65, responsible: 'PROF. FLÁVIO DE FREITAS MATTOS', location: 'SALA 3304 - CHEFIA OSP/SEC/ESTÁGIO SUPERVISIONA', mainCategory: 'departamentos', subCategory: 'Odontologia Social Preventiva', status: 'Pendente' },
            { id: 73, responsible: 'PROFA. SORAIA MACARI', location: 'SALA 3101 – LABORATÓRIO – FREEZER', mainCategory: 'departamentos', subCategory: 'Odontologia Restauradora', status: 'Entregue' },
            { id: 74, responsible: 'PROFA. IVANA MARCIA ALVES DINIZ', location: 'SALA 3102 – LABORATÓRIO CULTURA DE CÉLULAS', mainCategory: 'departamentos', subCategory: 'Odontologia Restauradora', status: 'Pendente' },
            { id: 75, responsible: 'PROFA. MARIA ESPERANZA CORTES SEGURA', location: 'SALA 3103 – LABORATÓRIO DE PESQUISA 3', mainCategory: 'departamentos', subCategory: 'Odontologia Restauradora', status: 'Entregue' },
            { id: 76, responsible: 'PROFA. ROGELI TIBURCIO RIBEIRO DA CUNHA PEIXOTO', location: 'SALA 3104 – LABORATÓRIO MULTIDISCIPLINAR 01', mainCategory: 'departamentos', subCategory: 'Odontologia Restauradora', status: 'Pendente' },
            { id: 77, responsible: 'PROF. DANILO ROCHA DIAS', location: 'SALA 3301 – GABINETE DE PROFESSOR 01', mainCategory: 'departamentos', subCategory: 'Odontologia Restauradora', status: 'Entregue' },
            { id: 78, responsible: 'PROFA. JULIANA VILELA BASTOS', location: 'SALA 3308 – CHEFIA_SECRETARIA ODR', mainCategory: 'departamentos', subCategory: 'Odontologia Restauradora', status: 'Pendente' },
            { id: 79, responsible: 'PROFA. RAFAELA DA SILVEIRA PINTO', location: 'SALA 3336 – GABINETE DE PROFESSOR 02', mainCategory: 'departamentos', subCategory: 'Odontologia Restauradora', status: 'Entregue' },
            { id: 80, responsible: 'PROFA. ANA CECILIA DINIZ VIANA', location: 'SALA 3337 – GABINETE DE PROFESSORES 03', mainCategory: 'departamentos', subCategory: 'Odontologia Restauradora', status: 'Pendente' },
            { id: 81, responsible: 'PROFA. MARCOS DANIEL SEPTIMIO LANZA', location: 'SALA 3338 – GABINETE DE PROFESSOR 04', mainCategory: 'departamentos', subCategory: 'Odontologia Restauradora', status: 'Entregue' },
            { id: 82, responsible: 'PROFA. ROGELI TIBURCIO RIBEIRO DA CUNHA PEIXOTO', location: 'SALA 3339 – GABINETE DE PROFESSOR 05', mainCategory: 'departamentos', subCategory: 'Odontologia Restauradora', status: 'Pendente' },
            { id: 83, responsible: 'PROFA. LIA SILVA DE CASTILHO', location: 'SALA 3340 – GABINETE DE PROFESSOR 06', mainCategory: 'departamentos', subCategory: 'Odontologia Restauradora', status: 'Entregue' },
            { id: 84, responsible: 'PROFA. ISABELLA FARIA DA CUNHA PEIXOTO', location: 'SALA 3341 – GABINETE DE PROFESSOR 07', mainCategory: 'departamentos', subCategory: 'Odontologia Restauradora', status: 'Pendente' },
            { id: 85, responsible: 'PROFA. LIVIA FAVARO ZEOLA', location: 'SALA 3342 – GABINETE DE PROFESSOR 08', mainCategory: 'departamentos', subCategory: 'Odontologia Restauradora', status: 'Entregue' },
            { id: 86, responsible: 'PROFA. MARIA ESPERANZA CORTES SEGURA', location: 'SALA 3343 – GABINETE DE PROFESSOR 09', mainCategory: 'departamentos', subCategory: 'Odontologia Restauradora', status: 'Pendente' },
            { id: 87, responsible: 'PROFA. PATRICIA VALENTE ARAUJO', location: 'SALA 3344 – GABINETE DE PROFESSOR 10', mainCategory: 'departamentos', subCategory: 'Odontologia Restauradora', status: 'Entregue' },
            { id: 88, responsible: 'PROF. JOSE AUGUSTO CESAR DISCACCATI', location: 'SALA 3345 – GABINETE DE PROFESSOR 11', mainCategory: 'departamentos', subCategory: 'Odontologia Restauradora', status: 'Pendente' },
            { id: 89, responsible: 'PROFA. CAROLINA BOSSO ANDRE', location: 'SALA 3404 – LABORATÓRIO DE PESQUISA DE MATERIAIS', mainCategory: 'departamentos', subCategory: 'Odontologia Restauradora', status: 'Entregue' },
            { id: 90, responsible: 'PROFA. MARIA CASSIA FERREIRA DE AGUIAR', location: 'SALA 3201 – LAB. DE PATOLOGIA EXPERIMENTAL 1', mainCategory: 'departamentos', subCategory: 'Clínica Patologia e Cirurgia Odontológica', status: 'Pendente' },
            { id: 91, responsible: 'PROF. RICARDO ALVES DE MESQUITA', location: 'SALA 3202 – SALA DE ALUNOS', mainCategory: 'departamentos', subCategory: 'Clínica Patologia e Cirurgia Odontológica', status: 'Entregue' },
            { id: 92, responsible: 'DOMENICO ROMANO ROMANI', location: 'SALA 3202 A_B – LAB. DE PATOLOGIA CIRÚRGICA', mainCategory: 'departamentos', subCategory: 'Clínica Patologia e Cirurgia Odontológica', status: 'Pendente' },
            { id: 93, responsible: 'PROFA. SILVIA FERREIRA DE SOUSA', location: 'SALA 3203 – LABORATÓRIO DE MICROBIOLOGIA', mainCategory: 'departamentos', subCategory: 'Clínica Patologia e Cirurgia Odontológica', status: 'Entregue' },
            { id: 94, responsible: 'PROFA. TARCILIA APARECIDA DA SILVA', location: 'SALA 3204 – LAB. DE PATOLOGIA EXPERIMENTAL 3', mainCategory: 'departamentos', subCategory: 'Clínica Patologia e Cirurgia Odontológica', status: 'Pendente' },
            { id: 95, responsible: 'PROF. RICARDO SANTIAGO GOMEZ', location: 'SALA 3205 – LABORATÓRIO DE BIOLOGIA MOLECULAR', mainCategory: 'departamentos', subCategory: 'Clínica Patologia e Cirurgia Odontológica', status: 'Entregue' },
            { id: 96, responsible: 'PROFA. TANIA MARA PIMENTA AMARAL', location: 'SALA 3302 – GABINETE DE PROFESSOR 01', mainCategory: 'departamentos', subCategory: 'Clínica Patologia e Cirurgia Odontológica', status: 'Pendente' },
            { id: 97, responsible: 'PROFA. CÉLIA REGINA MOREIRA LANZA', location: 'SALA 3305 – CHEFIA_SECRETARIA DEP. CPC', mainCategory: 'departamentos', subCategory: 'Clínica Patologia e Cirurgia Odontológica', status: 'Entregue' },
            { id: 98, responsible: 'A DEFINIR', location: 'SALA 3308 – GABINETE DE PROFESSOR 8', mainCategory: 'departamentos', subCategory: 'Clínica Patologia e Cirurgia Odontológica', status: 'Pendente' },
            { id: 99, responsible: 'PROF. LUIZ OTÁVIO DE MIRANDA COTA', location: 'SALA 3328 – GABINETE DE PROFESSOR 02', mainCategory: 'departamentos', subCategory: 'Clínica Patologia e Cirurgia Odontológica', status: 'Entregue' },
            { id: 100, responsible: 'PROF. MARCELO DRUMMOND NAVES', location: 'SALA 3329 – GABINETE DE PROFESSOR 03', mainCategory: 'departamentos', subCategory: 'Clínica Patologia e Cirurgia Odontológica', status: 'Pendente' },
            { id: 101, responsible: 'PROF. WAGNER HENRIQUES DE CASTRO', location: 'SALA 3330 – GABINETE DE PROFESSOR 04', mainCategory: 'departamentos', subCategory: 'Clínica Patologia e Cirurgia Odontológica', status: 'Entregue' },
            { id: 102, responsible: 'PROF. LEANDRO NAPIER DE SOUZA', location: 'SALA 3331 – GABINETE DE PROFESSOR 05', mainCategory: 'departamentos', subCategory: 'Clínica Patologia e Cirurgia Odontológica', status: 'Pendente' },
            { id: 103, responsible: 'PROFA. ALINE ARAÚJO SAMPAIO', location: 'SALA 3333 – GABINETE DE PROFESSOR 06', mainCategory: 'departamentos', subCategory: 'Clínica Patologia e Cirurgia Odontológica', status: 'Entregue' },
            { id: 104, responsible: 'PROF. FABIANO ARAUJO CUNHA', location: 'SALA 3334 – GABINETE DE PROFESSOR 07', mainCategory: 'departamentos', subCategory: 'Clínica Patologia e Cirurgia Odontológica', status: 'Pendente' },
            { id: 105, responsible: 'DOMENICO ROMANO', location: 'SALA 1018 – ARQUIVO DE LÂMINAS', mainCategory: 'departamentos', subCategory: 'Clínica Patologia e Cirurgia Odontológica', status: 'Entregue' },
            
            // Acadêmico e Extensão
            { id: 42, responsible: 'PROF. LUCAS GUIMARÃES ABREU', location: 'SALA 2909A', mainCategory: 'academico', subCategory: 'Colegiado de Graduação', status: 'Pendente' },
            { id: 43, responsible: 'PROF. LUCAS GUIMARÃES ABREU', location: 'SALA 2909 – COLEGIADO DE GRADUAÇÃO', mainCategory: 'academico', subCategory: 'Colegiado de Graduação', status: 'Entregue' },
            { id: 44, responsible: 'PROF. LUCAS GUIMARÃES ABREU', location: 'SALA 2912 – NDE', mainCategory: 'academico', subCategory: 'Colegiado de Graduação', status: 'Pendente' },
            { id: 45, responsible: 'ALAN FELIPE SOUZA', location: 'SALA 2913 – NEPPO', mainCategory: 'academico', subCategory: 'Colegiado de Graduação', status: 'Entregue' },
            { id: 46, responsible: 'PROFA. ISABELLA FARIA DA CUNHA PEIXOTO', location: 'SALA 2301 – CLÍNICA 7 – PÓS GRADUAÇÃO', mainCategory: 'academico', subCategory: 'Colegiado de Pós-Graduação', status: 'Pendente' },
            { id: 47, responsible: 'PROF. MAURO HENRIQUE NOGUEIRA', location: 'SALA 3309 – CHEFIA DO COLEGIADO E PÓS GRADUAÇÃO', mainCategory: 'academico', subCategory: 'Colegiado de Pós-Graduação', status: 'Entregue' },
            { id: 48, responsible: 'PROF. MAURO HENRIQUE NOGUEIRA GUIMARAES DE ABREU', location: 'SALA 3310 – SECRETARIA DO COL. DE PÓS GRADUAÇÃO', mainCategory: 'academico', subCategory: 'Colegiado de Pós-Graduação', status: 'Pendente'},
            { id: 49, responsible: 'PROF. MAURO HENRIQUE NOGUEIRA GUIMARAES DE ABREU', location: 'SALA 3311 – PÓS-DOUTORADO E REVISTA', mainCategory: 'academico', subCategory: 'Colegiado de Pós-Graduação', status: 'Entregue'},
            { id: 50, responsible: 'PROF. MAURO HENRIQUE NOGUEIRA GUIMARAES DE ABREU', location: 'SALA 3312 – RECEPÇÃO COL. PÓS GRADUAÇÃO E NAPQ', mainCategory: 'academico', subCategory: 'Colegiado de Pós-Graduação', status: 'Pendente' },
            { id: 51, responsible: 'PROF. FELIPE PAIVA FONSECA', location: 'SALA 3313 – SALA DE ESTUDOS 01 – PÓS GRADUAÇÃO', mainCategory: 'academico', subCategory: 'Colegiado de Pós-Graduação', status: 'Entregue' },
            { id: 52, responsible: 'PROFA. IVANA MARCIA ALVES DINIZ', location: 'SALA 3315 – SALA DE ESTUDOS 02 – PÓS GRADUAÇÃO', mainCategory: 'academico', subCategory: 'Colegiado de Pós-Graduação', status: 'Pendente' },
            { id: 53, responsible: 'PROF. LUIS OTAVIO DE MIRANDA COTA', location: 'SALA 3316 – SALA DE ESTUDOS 03 – PÓS GRADUAÇÃO', mainCategory: 'academico', subCategory: 'Colegiado de Pós-Graduação', status: 'Entregue' },
            { id: 54, responsible: 'PROF. SAUL MARTINS DE PAIVA', location: 'SALA 3318 – SALA DE ESTUDOS 04 – PÓS GRADUAÇÃO', mainCategory: 'academico', subCategory: 'Colegiado de Pós-Graduação', status: 'Pendente' },
            { id: 55, responsible: 'PROF. MAURO HENRIQUE NOGUEIRA GUIMARAES DE ABREU', location: 'SALA 3323 – ALMOXARIFADO COLEGIado PÓS GRADUAÇÃO', mainCategory: 'academico', subCategory: 'Colegiado de Pós-Graduação', status: 'Entregue' },
            { id: 56, responsible: 'PROF. MAURO HENRIQUE NOGUEIRA GUIMARAES DE ABREU', location: 'SALA 3403 – MULTIMEIOS', mainCategory: 'academico', subCategory: 'Colegiado de Pós-Graduação', status: 'Pendente' },
            { id: 57, responsible: 'PROF. MAURO HENRIQUE NOGUEIRA GUIMARAES DE ABREU', location: 'SALA 3412 – SALA DE AULA – PÓS GRADUAÇÃO', mainCategory: 'academico', subCategory: 'Colegiado de Pós-Graduação', status: 'Entregue' },
            { id: 58, responsible: 'PROF. MAURO HENRIQUE NOGUEIRA GUIMARAES DE ABREU', location: 'SALA 3418 – SALA DE AULA PÓS GRADUAÇÃO', mainCategory: 'academico', subCategory: 'Colegiado de Pós-Graduação', status: 'Pendente' },
            { id: 6, responsible: 'LILIAN SIMONI SIDNEY', location: 'SALA 2917 – SECRETARIA DO CENTRO DE EXTENSÃO', mainCategory: 'academico', subCategory: 'CENEX', status: 'Entregue' },
            { id: 41, responsible: 'PROFA. RENATA M. CYRINO', location: 'SALA 2918 – COORDENAÇÃO DO CENTRO DE EXTENSÃO', mainCategory: 'academico', subCategory: 'CENEX', status: 'Pendente' },

            // Coordenação de Enfermagem e CASEU
            { id: 106, responsible: 'ARIANA LUIZA CAMPOS CORDEIRO', location: 'CLÍNICA 1', mainCategory: 'coord_enfermagem_caseu', subCategory: 'Clínicas', status: 'Entregue'  },
            { id: 107, responsible: 'DANIELA ALBANO DA CRUZ', location: 'CLINICA 2', mainCategory: 'coord_enfermagem_caseu', subCategory: 'Clínicas', status: 'Pendente' },
            { id: 108, responsible: 'ELAINE DOS SANTOS BARBOSA CAJA', location: 'CLINICA 3', mainCategory: 'coord_enfermagem_caseu', subCategory: 'Clínicas', status: 'Entregue' },
            { id: 109, responsible: 'ALESSANDRA FERNANDA MENDES SILVA', location: 'CLÍNICA 4', mainCategory: 'coord_enfermagem_caseu', subCategory: 'Clínicas', status: 'Pendente' },
            { id: 110, responsible: 'GRAZIELLE MIRANDA DE JESUS ABREU', location: 'CLÍNICA 5', mainCategory: 'coord_enfermagem_caseu', subCategory: 'Clínicas', status: 'Entregue' },
            { id: 111, responsible: 'NEUZA APARECIDA SILVA E SOUZA', location: 'CLÍNICA 6', mainCategory: 'coord_enfermagem_caseu', subCategory: 'Clínicas', status: 'Pendente' },
            { id: 112, responsible: 'ALDEIR PEREIRA RIGUETTE', location: 'SALA 1011_1012 – APOIO CME LAVANDERIA', mainCategory: 'coord_enfermagem_caseu', subCategory: 'Apoio CME e Logística', status: 'Entregue' },
            { id: 113, responsible: 'NILMA DE JESUS APOLINARIO', location: 'SALA 1016 – APOIO CME', mainCategory: 'coord_enfermagem_caseu', subCategory: 'Apoio CME e Logística', status: 'Pendente' },
            { id: 114, responsible: 'ALDEIR PEREIRA RIGUETTE', location: 'SALA 2112 – CME', mainCategory: 'coord_enfermagem_caseu', subCategory: 'Apoio CME e Logística', status: 'Entregue' },
            { id: 115, responsible: 'ALINE DE CASSIA BAPTISTA CONTARINI', location: 'SALA 2201 – APOIO CME', mainCategory: 'coord_enfermagem_caseu', subCategory: 'Apoio CME e Logística', status: 'Pendente' },
            { id: 116, responsible: 'ANTONIO ADAO ROSA', location: 'SALA 2203A – CENTRAL DE EQUIPAMENTOS', mainCategory: 'coord_enfermagem_caseu', subCategory: 'Apoio CME e Logística', status: 'Entregue' },
            { id: 117, responsible: 'MURILO MIRANDA QUEIROZ', location: 'SALA 2209D – ALMOXARIFADO CLÍNICA 03', mainCategory: 'coord_enfermagem_caseu', subCategory: 'Apoio CME e Logística', status: 'Pendente' },
            { id: 118, responsible: 'LUCIANA GUILHERME GONZAGA CARMO', location: 'SALA 2216A – ENTREPOSTO _MEDICAMENTOS', mainCategory: 'coord_enfermagem_caseu', subCategory: 'Apoio CME e Logística', status: 'Entregue' },
            { id: 119, responsible: 'LORRAINE CRISTINA MARQUES DE QUEIROZ', location: 'SALA 2501A – ARSENAL – CME', mainCategory: 'coord_enfermagem_caseu', subCategory: 'Apoio CME e Logística', status: 'Pendente' },
            { id: 120, responsible: 'PATRICIA DIAS SILVA MADUREIRA', location: 'SALA 2502_03_03A – APOIO CME – EXPURGO', mainCategory: 'coord_enfermagem_caseu', subCategory: 'Apoio CME e Logística', status: 'Entregue' },
            { id: 121, responsible: 'ANA CRISTINA ROMA FIGUEIREDO', location: 'SALA 2212 – COORD TÉC DE ENF. E LOGÍSTICA CLÍN', mainCategory: 'coord_enfermagem_caseu', subCategory: 'Coordenação e Enfermagem', status: 'Pendente' },
            { id: 122, responsible: 'ALESSANDRA SANTOS DA CUNHA', location: 'SALA 2801 – SALA DA ENFERMAGEM', mainCategory: 'coord_enfermagem_caseu', subCategory: 'Coordenação e Enfermagem', status: 'Entregue' },
            { id: 146, responsible: 'KAMILLA FARIA MACIEL', location: 'SALA 2101B_2101C – CONSULTÓRIOS_EMERGÊNCIAS', mainCategory: 'coord_enfermagem_caseu', subCategory: 'CASEU', status: 'Pendente' },
            { id: 147, responsible: 'LUMENA THAIS VIMIEIRO MELO', location: 'SALA 2104 – CENTRAL DE ATENDIMENTO CASEU', mainCategory: 'coord_enfermagem_caseu', subCategory: 'CASEU', status: 'Entregue' },
            { id: 148, responsible: 'SORAIA MACARI', location: 'SALA 2105 – NÚCLEO DE ORTODONTIA', mainCategory: 'coord_enfermagem_caseu', subCategory: 'CASEU', status: 'Pendente' },
            { id: 149, responsible: 'LUMENA THAIS VIMIEIRO MELO', location: 'SALA 2110 – SECRETARIA E PRODUTIVIDADE CASEU', mainCategory: 'coord_enfermagem_caseu', subCategory: 'CASEU', status: 'Entregue' },
            { id: 150, responsible: 'PROFA. JULIANA VILELA BASTOS', location: 'SALA 2118C – TRAUMATISMO', mainCategory: 'coord_enfermagem_caseu', subCategory: 'CASEU', status: 'Pendente' },

            // Infraestrutura e Oficina
            { id: 123, responsible: 'CÂNDIDO DA PAIXÃO', location: 'TRANSPORTES', mainCategory: 'infraestrutura_oficina', status: 'Entregue' },
            { id: 124, responsible: 'LUIZ CARLOS DA SILVA', location: 'SALA 3410 – SALA DE AULA', mainCategory: 'infraestrutura_oficina', status: 'Pendente' },
            { id: 125, responsible: 'LUIZ CARLOS DA SILVA', location: 'SALA 2804 – VESTIARIO DE ALUNOS', mainCategory: 'infraestrutura_oficina', status: 'Entregue' },
            { id: 126, responsible: 'LUIZ CARLOS DA SILVA', location: 'SALA 3417 – SALA DE AULA', mainCategory: 'infraestrutura_oficina', status: 'Pendente' },
            { id: 127, responsible: 'LUIZ CARLOS DA SILVA', location: 'SALA 3416 – SALA DE AULA', mainCategory: 'infraestrutura_oficina', status: 'Entregue' },
            { id: 128, responsible: 'LUIZ CARLOS DA SILVA', location: 'SALA 3415 – SALA DE AULA', mainCategory: 'infraestrutura_oficina', status: 'Pendente' },
            { id: 129, responsible: 'LUIZ CARLOS DA SILVA', location: 'SALA 3414 – SALA DE AULA', mainCategory: 'infraestrutura_oficina', status: 'Entregue' },
            { id: 130, responsible: 'LUIZ CARLOS DA SILVA', location: 'SALA 3409 – ESTUDO EM GRUPO 2', mainCategory: 'infraestrutura_oficina', status: 'Pendente' },
            { id: 131, responsible: 'LUIZ CARLOS DA SILVA', location: 'SALA 3408 – ESTUDO EM GRUPO 1', mainCategory: 'infraestrutura_oficina', status: 'Entregue' },
            { id: 132, responsible: 'LUIZ CARLOS DA SILVA', location: 'SALA 2923 – CHEFIA DE SERVIÇOS GERAIS', mainCategory: 'infraestrutura_oficina', status: 'Pendente' },
            { id: 133, responsible: 'LUIZ CARLOS DA SILVA', location: 'SALA 2914 – COPA DO 2º ANDAR', mainCategory: 'infraestrutura_oficina', status: 'Entregue' },
            { id: 134, responsible: 'LUIZ CARLOS DA SILVA', location: 'SALA 2906D - DIRETORIO ACADEMICO', mainCategory: 'infraestrutura_oficina', status: 'Pendente' },
            { id: 135, responsible: 'LUIZ CARLOS DA SILVA', location: 'SALA 2901A – TELEFONIA SEGURANÇA', mainCategory: 'infraestrutura_oficina', status: 'Entregue' },
            { id: 136, responsible: 'LUIZ CARLOS DA SILVA', location: 'SALA 2803 – VESTIÁRIO DE ALUNAS', mainCategory: 'infraestrutura_oficina', status: 'Pendente' },
            { id: 137, responsible: 'LUIZ CARLOS DA SILVA', location: 'SALA 1021 – VESTIÁRIO DA LIMPEZA', mainCategory: 'infraestrutura_oficina', status: 'Entregue' },
            { id: 138, responsible: 'LUIZ CARLOS DA SILVA', location: 'SALA 1020 – COPA 1º ANDAR', mainCategory: 'infraestrutura_oficina', status: 'Pendente' },
            { id: 139, responsible: 'LUIZ CARLOS DA SILVA', location: 'SALA 1012 – ALMOXARIFADO ELÉTRICO E HIDRÁULICO', mainCategory: 'infraestrutura_oficina', status: 'Entregue' },
            { id: 140, responsible: 'DOUGLAS WILIAM', location: 'SALA 1007 – OFICINA DE MANUTENÇÃO', mainCategory: 'infraestrutura_oficina', status: 'Pendente' },
            { id: 141, responsible: 'BÁRBARA SOARES', location: 'SALA 1003F – MARCENARIA', mainCategory: 'infraestrutura_oficina', status: 'Entregue' },
            { id: 142, responsible: 'BÁRBARA SOARES', location: 'SALA 1003C – BENS OCIOSOS', mainCategory: 'infraestrutura_oficina', status: 'Pendente' },
            { id: 143, responsible: 'LUIZ CARLOS DA SILVA', location: 'INFRA CORREDORES E PORTARIAS', mainCategory: 'infraestrutura_oficina', status: 'Entregue' },
            { id: 144, responsible: 'LUIZ CARLOS DA SILVA', location: 'CANTINA', mainCategory: 'infraestrutura_oficina', status: 'Pendente' },
            { id: 145, responsible: 'ALAN FELIPE', location: 'AUDITORIO', mainCategory: 'infraestrutura_oficina', status: 'Entregue' },

            // Biblioteca
            { id: 15, responsible: 'MIRIAM CANDIDA DE JESUS', location: 'HALL COLEÇÃO DE LIVROS E TESES, ETC', mainCategory: 'biblioteca', status: 'Pendente' },
            { id: 31, responsible: 'VALERIA FERREIRA DE JESUS LAURIANO', location: 'HALL COLEÇÃO DE PERIÓDICOS', mainCategory: 'biblioteca', status: 'Entregue' },
            { id: 32, responsible: 'LUCIANA GONCALVES SILVA SOUZA', location: 'HALL DE ENTRADA DA BIBLIOTECA', mainCategory: 'biblioteca', status: 'Pendente' },
            { id: 33, responsible: 'LUCIANA GONCALVES SILVA SOUZA', location: 'BALCÃO DE EMPRÉSTIMO', mainCategory: 'biblioteca', status: 'Entregue' },
            { id: 34, responsible: 'MATEUS HENRIQUE SILVA', location: 'SALA 3401 - F_G_H_I_J - ESTUDO EM GRUPO', mainCategory: 'biblioteca', status: 'Pendente' },
            { id: 35, responsible: 'CLAUDIA MARCIA DIAS SILVA', location: 'SALA 3401A - PESQUISA BIBLIOGRÁFICA', mainCategory: 'biblioteca', status: 'Entregue' },
            { id: 36, responsible: 'SERGIO BARBOSA DOS SANTOS', location: 'SETOR DE ESTUDOS DA BIBLIOTECA_FO', mainCategory: 'biblioteca', status: 'Pendente' },
            { id: 37, responsible: 'CLAUDIA MARCIA DIAS SILVA', location: 'SALA 3401B - CHEFIA DA BIBLIOTECA', mainCategory: 'biblioteca', status: 'Entregue' },
            { id: 38, responsible: 'VALERIA FERREIRA DE JESUS LAURIANO', location: 'SALA 3401C - SALA DE FUNCIONÁRIO', mainCategory: 'biblioteca', status: 'Pendente' },
            { id: 39, responsible: 'MIRIAM CANDIDA DE JESUS', location: 'SALA 3401D - PROCES.TÉCNICO_COMUTAÇÃO', mainCategory: 'biblioteca', status: 'Entregue' },
            { id: 40, responsible: 'MATEUS HENRIQUE SILVA TRINDADE', location: 'SALA 3401L - DEPÓSITO_BIBLIOTECA', mainCategory: 'biblioteca', status: 'Pendente' },
            { id: 151, responsible: 'Mateus Henrique Silva Trindade', location: 'HALL DE ESTUDOS', mainCategory: 'biblioteca', status: 'Entregue' },
            { id: 152, responsible: 'Luciana Gonçalves Silva', location: 'PORTARIA - BIBLIOTECA', mainCategory: 'biblioteca', status: 'Pendente' },
            { id: 153, responsible: 'Mateus Henrique Silva Trindade', location: 'Referência Biblioteca', mainCategory: 'biblioteca', status: 'Entregue' },

            // Administrativo
            { id: 16, responsible: 'ADIMILSON QUININO', location: 'SALA 1023 - SEÇÃO DE ALMOXARIFADO', mainCategory: 'administrativo', subCategory: 'Seção de Almoxarifado', status: 'Pendente' },
            { id: 17, responsible: 'PROFA. MARIA INÊS SENNA', location: 'SALA 2901 - CENTRO DE MEMÓRIA - ARQUIVO', mainCategory: 'administrativo', subCategory: 'Centro de Memória', status: 'Entregue' },
            { id: 18, responsible: 'ALAN FELIPE', location: 'SALA 2916 - TECNOLOGIA DA INFORMAÇÃO', mainCategory: 'administrativo', subCategory: 'Tecnologia da Informação', status: 'Pendente' }, 
            { id: 19, responsible: 'BÁRBARA SOARES', location: 'SALA 2911 - SEÇÃO DE PATRIMÔNIO', mainCategory: 'administrativo', subCategory: 'Seção de Patrimônio', status: 'Entregue' },
            { id: 20, responsible: 'FRANKLIN MINARDI', location: 'SALA 2919 - Seção de Pessoal', mainCategory: 'administrativo', subCategory: 'Seção de Pessoal', status: 'Pendente' },
            { id: 21, responsible: 'FRANKLIN MINARDI', location: 'SALA 2919 - Seção de Pessoal', mainCategory: 'administrativo', subCategory: 'Diretoria', status: 'Entregue' },
            { id: 22, responsible: 'LILIAN CRISTINA', location: 'SALA 2920 - SEÇÃO DE COMPRAS', mainCategory: 'administrativo', subCategory: 'Seção de Compras', status: 'Pendente' },
            { id: 23, responsible: 'RENATA DE MELO', location: 'SALA 2921 - SEÇÃO DE CONTABILIDADE', mainCategory: 'administrativo', subCategory: 'Seção de Contabilidade', status: 'Entregue' },
            { id: 24, responsible: 'LAYSSE MACEDO', location: 'SALA 2925 - GESTão DE CONTRATOS', mainCategory: 'administrativo', subCategory: 'Gestão de Contratos', status: 'Pendente' },
            { id: 25, responsible: 'RONALDO CONDE', location: 'SALA 2926 - RECEPÇÃO DA DIRETORIA', mainCategory: 'administrativo', subCategory: 'Diretoria', status: 'Entregue' },
            { id: 26, responsible: 'RONALDO CONDE', location: 'SALA 2926 - SECRETARIA GERAL', mainCategory: 'administrativo', subCategory: 'Diretoria', status: 'Pendente' },
            { id: 27, responsible: 'SILVILENE GIOVANE', location: 'SALA 2927 - SUPERINTENDÊNCIA ADMINISTRATIVA', mainCategory: 'administrativo', subCategory: 'Superintendência Administrativa', status: 'Entregue' },
            { id: 28, responsible: 'PROF. JOÃO BATISTA NOVAES JUNIOR', location: 'SALA 2928 - DIRETORIA E VICE-DIRETORIA', mainCategory: 'administrativo', subCategory: 'Diretoria', status: 'Pendente' },
            { id: 29, responsible: 'RONALDO CONDE', location: 'SALA 2929 - SALA DE REUNIÃO', mainCategory: 'administrativo', subCategory: 'Diretoria', status: 'Entregue' },
            { id: 30, responsible: 'RONALDO CONDE', location: 'SALA 2930 - CONGREGAÇÃO', mainCategory: 'administrativo', subCategory: 'Diretoria', status: 'Pendente' }
        ];


        // --- LÓGICA DO PAINEL ---
        const categoryFilter = document.getElementById('category-filter');
        const subcategoryFilterContainer = document.getElementById('subcategory-filter-container');
        const subcategoryFilter = document.getElementById('subcategory-filter');
        const statusListContainer = document.getElementById('status-list');
        const listTitle = document.getElementById('list-title');
        const chartPercentage = document.getElementById('chart-percentage');
        const statsEntregue = document.getElementById('stats-entregue');
        const statsPendente = document.getElementById('stats-pendente');
        const statsTotal = document.getElementById('stats-total');

        let progressChart;

        function renderStatusList(data) {
            statusListContainer.innerHTML = '';
            if (data.length === 0) {
                statusListContainer.innerHTML = '<p class="text-gray-500">Nenhum local encontrado para esta categoria.</p>';
                return;
            }
             // Ordena os dados para mostrar Pendentes primeiro
            const sortedData = data.sort((a, b) => {
                if (a.status === 'Pendente' && b.status === 'Entregue') return -1;
                if (a.status === 'Entregue' && b.status === 'Pendente') return 1;
                return a.location.localeCompare(b.location); // Ordem alfabética como desempate
            });

            sortedData.forEach(item => {
                const statusClass = item.status === 'Entregue' 
                    ? 'bg-green-100 text-green-800' 
                    : 'bg-yellow-100 text-yellow-800';
                
                const itemDiv = document.createElement('div');
                itemDiv.className = 'p-3 border rounded-lg bg-white';
                itemDiv.innerHTML = `
                    <div class="flex justify-between items-center">
                        <div>
                            <p class="font-bold text-gray-800">${item.location}</p>
                            <p class="text-sm text-gray-600">Responsável: ${item.responsible}</p>
                        </div>
                        <span class="text-sm font-bold px-2 py-1 rounded-full ${statusClass}">${item.status}</span>
                    </div>
                `;
                statusListContainer.appendChild(itemDiv);
            });
        }
        
        function updateMetrics(data) {
            const total = data.length;
            const entregue = data.filter(item => item.status === 'Entregue').length;
            const pendente = total - entregue;
            const percentage = total > 0 ? Math.round((entregue / total) * 100) : 0;
            
            statsEntregue.textContent = entregue;
            statsPendente.textContent = pendente;
            statsTotal.textContent = total;

            chartPercentage.textContent = `${percentage}%`;
            if(progressChart) {
                progressChart.data.datasets[0].data = [entregue, pendente];
                progressChart.update();
            }
        }

        function updateDashboard() {
            const mainCategory = categoryFilter.value;
            const subCategory = subcategoryFilter.value;

            let filteredData;
            let title = "Status de todos os locais";

            if (mainCategory === 'todos') {
                filteredData = inventoryData;
            } else {
                const categoryText = categoryFilter.options[categoryFilter.selectedIndex].text;
                title = `Status de ${categoryText}`;
                
                filteredData = inventoryData.filter(item => item.mainCategory === mainCategory);

                const hasSubcategories = inventoryData.some(item => item.mainCategory === mainCategory && item.subCategory);

                if (hasSubcategories && subCategory && subCategory !== 'all-sub') {
                     const subCategoryText = subcategoryFilter.options[subcategoryFilter.selectedIndex].text;
                     title += ` / ${subCategoryText}`;
                     filteredData = filteredData.filter(item => item.subCategory === subCategory);
                }
            }

            listTitle.textContent = title;
            renderStatusList(filteredData);
            updateMetrics(filteredData);
        }

        function populateSubcategories(mainCategory) {
            subcategoryFilter.innerHTML = '';
            
            const subcategories = [...new Set(
                inventoryData
                    .filter(item => item.mainCategory === mainCategory && item.subCategory)
                    .map(item => item.subCategory)
            )].sort();

            if (subcategories.length > 0) {
                subcategoryFilterContainer.classList.remove('hidden');
                
                const allOption = document.createElement('option');
                allOption.value = 'all-sub';
                allOption.textContent = 'Todas as subcategorias';
                subcategoryFilter.appendChild(allOption);

                subcategories.forEach(sub => {
                    const option = document.createElement('option');
                    option.value = sub;
                    option.textContent = sub;
                    subcategoryFilter.appendChild(option);
                });
            } else {
                subcategoryFilterContainer.classList.add('hidden');
            }
        }

        document.addEventListener('DOMContentLoaded', () => {
            const ctx = document.getElementById('progressChart').getContext('2d');
            progressChart = new Chart(ctx, {
                type: 'doughnut',
                data: {
                    datasets: [{
                        data: [0, 1],
                        backgroundColor: ['#16a34a', '#f59e0b'],
                        borderWidth: 0,
                        hoverOffset: 4
                    }]
                },
                options: {
                    responsive: true,
                    cutout: '80%',
                    plugins: {
                        legend: { display: false },
                        tooltip: { enabled: false }
                    }
                }
            });
            
            updateDashboard(); // Carga inicial
        });

        categoryFilter.addEventListener('change', () => {
            populateSubcategories(categoryFilter.value);
            updateDashboard();
        });

        subcategoryFilter.addEventListener('change', () => {
            updateDashboard();
        });

        // Lógica do Contador
        const countdownContainer = document.getElementById('countdown-container');
        const startDate = new Date('2025-10-13T00:00:00');
        const endDate = new Date('2025-12-05T23:59:59');
        const today = new Date();

        today.setHours(0, 0, 0, 0);

        if (today < startDate) {
            const daysToStart = Math.ceil((startDate - today) / (1000 * 60 * 60 * 24));
            countdownContainer.innerHTML = `
                <i data-lucide="calendar-clock" class="mx-auto h-10 w-10 text-blue-600 mb-2"></i>
                O período do inventário começa em <span class="text-blue-600">${daysToStart}</span> ${daysToStart > 1 ? 'dias' : 'dia'}.
            `;
        } else if (today >= startDate && today <= endDate) {
            const daysRemaining = Math.ceil((endDate - today) / (1000 * 60 * 60 * 24));
            if (daysRemaining > 1) {
                countdownContainer.innerHTML = `
                    <i data-lucide="alarm-clock" class="mx-auto h-10 w-10 text-yellow-500 mb-2"></i>
                    Faltam <span class="text-yellow-600">${daysRemaining}</span> dias para o fim do prazo.
                `;
            } else if (daysRemaining === 1) {
                 countdownContainer.innerHTML = `
                    <i data-lucide="alarm-clock-off" class="mx-auto h-10 w-10 text-red-500 mb-2"></i>
                    <span class="text-red-600">Atenção! O prazo termina hoje!</span>
                `;
            } else {
                 countdownContainer.innerHTML = `
                    <i data-lucide="calendar-x-2" class="mx-auto h-10 w-10 text-red-500 mb-2"></i>
                    <span class="text-red-600">Prazo Encerrado!</span>
                `;
            }
        } else {
            countdownContainer.innerHTML = `
                <i data-lucide="calendar-check-2" class="mx-auto h-10 w-10 text-green-600 mb-2"></i>
                <span class="text-green-700">O período para o inventário de 2025 foi encerrado.</span>
            `;
        }
        lucide.createIcons();
    </script>

</body>
</html>

